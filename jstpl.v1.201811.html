<!DOCTYPE html>
<html>
<head>
<meta http-equiv="Content-Type" content="text/html; charset=gbk" />
<title>新闻媒体 - eophy tpltitle:{$title}</title>
<meta name="keywords" content="悠菲中国, eophy, tplkeyword:{$keywords}"/>
<meta name="description" content="悠菲中国, 品味最纯生活" />
<!-- <link type="image/png" rel="icon" href="favicon.png" /> -->
<!-- 
<link rel="stylesheet" type="text/css" href="./common.css" />
<link rel="stylesheet" type="text/css" href="./layout.css" />
-->
<!--[if lt IE 9]>
<script type="text/javascript" src="js/PIE_IE678.js"></script>
<![endif]-->
</head>
<body>
<div id="container">
  <div id="header">
    <div class="h_box">
      <div class="logo"><a href="index.html">a logo</a></div>
      <div class="menu">
        <ul>
          <li><a href="index.html">首页</a></li>
          <li><a href="about_us.html">关于我们</a>
            <div class="submenu">
              <ul>
                  <li class="title"><a href="about_us.html">公司介绍</a></li>
                  <li class="title"><a href="about_us_2.html">品牌介绍</a></li>
                  <li class="title"><a href="about_us_3.html">品牌VIDEO</a></li>                  
              </ul>
            </div>
          </li>
          <li><a href="products.html">产品中心</a></li>
          <li><a href="news.html" class="active">新闻媒体</a></li>
          <li><a href="active.html">品牌活动</a></li>
          <li><a href="faq.html">营养咨询</a></li>
          <li><a href="sale.html">售卖专柜</a></li>
          <li><a href="shop.html">网络商城</a></li>
        </ul>
      </div>
    </div>
    <div class="clear"></div>
  </div>
  <!--#header-->
  <div id="main">
  <div class="homebk"> news logo</div>
  <div class="mainbox2">
    <div class="homelist">
      <div class="box">
        <div class="news">
          <div class="title">最新新闻</div>
          <div class="content">
            <ul class="cont" tpldata="newslist::repeat::">
			{for (var $k in $newslist)}
              <li><a class="btn_show" href="{$newslist[$k]['href']}">&gt; {$newslist[$k]['title']}
					<a name="atag" tpldata="atag::updatevalue">{$newslist[$k]['title']}</a>
			  </a></li>
			{/for}
              <!--
			  <li><a class="btn_show" href="#1">&gt; 更高生物利用度（更好更快被吸收）、高活性成分、不刺激肠胃。</a></li>
				-->
			</ul>
          </div>
          <div class="pages">
            <ul>
              <li><a href="javascript:;"> &lt; </a></li>
              <li class="active"><a href="#"> 1 </a></li>
              <li><a href="#"> 2 </a></li>
              <li><a href="#"> 3 </a></li>
              <li><a href="#"> 4 </a></li>
              <li><a href="#"> ... </a></li>
              <li><a href="#"> 6 </a></li>
              <li><a href="javascript:;"> &gt; </a></li>
              <li><a href="javascript:;" tpldata="newslist_nextpage::updateattribute::href" href="{$newslist_nextpage}"> 下一页 </a></li>
            </ul>
          </div>
        </div>
        <div class="news_cnt" style="display:none;" tpldata="newscontentlist::repeat::"> <!-- tpldata="newscontentlist::updatevalue::type=list::format=firstchild" -->
        {for(var $k in $newscontentlist)}  
		  <div id="promptBox">
            <a href="javascript:;" class="btn_close">X</a>
            <div class="title">{$newscontentlist[$k]['title']}</div>
            <div class="content">
            {$newscontentlist[$k]['content']}
			</div>
            <div class="pages">
              <ul>
                <li><a href="javascript:;"> &lt; </a></li>
                <li class="active"><a href="#"> 1 </a></li>
                <li><a href="#"> 2 </a></li>
                <li><a href="javascript:;"> &gt; </a></li>
                <li><a href="javascript:;"> 下一页 </a></li>
              </ul>
            </div>
          </div>
		  {/for}
          <div id="promptBox2">
            <a href="javascript:;" class="btn_close">X</a>
            <div class="title">虾青素是目前为止最具创新、最具抗氧化能力的抗氧化剂#2</div>
            <div class="content">
              <p>
BoP S.L. 联合巴塞罗那大学健康医学实验室共同研发近百种天然健康营养品，我 们的研发人员有着二十多年营养与药剂开发经验，产品品牌在欧洲拥有极高的知 名度和美誉度。为了满足消费者“选择最佳天然营养品的健康需求”。</p>
            </div>
            <div class="pages">
              <ul>
                <li><a href="javascript:;"> &lt; </a></li>
                <li><a href="javascript:;"> &gt; </a></li>
              </ul>
            </div>
          </div>
          <div id="promptBox12">
            <a href="javascript:;" class="btn_close">X</a>
            <div class="title">虾青素是目前为止最具创新、最具抗氧化能力的抗氧化剂#12</div>
            <div class="content">
              <p>
BoP S.L. 联合巴塞罗那大学健康医学实验室共同研发近百种天然健康营养品，我 们的研发人员有着二十多年营养与药剂开发经验，产品品牌在欧洲拥有极高的知 名度和美誉度。为了满足消费者“选择最佳天然营养品的健康需求”。</p>
            </div>
            <div class="pages">
              <ul>
                <li><a href="javascript:;"> &lt; </a></li>
                <li><a href="javascript:;"> &gt; </a></li>
              </ul>
            </div>
          </div>
        </div>
		<div class="news_cnt" style="display:block" tpldata="newslist2::repeat::">
			{for(var $k in $newslist)}
			<ul>
				<li><a href="{$newslist[$k]['href']}">{$newslist[$k]['title']}</a></li>
			</ul>
			{/for}
		</div>
		<p>
			<br/><br/>
		</p>
		<div class="news_cnt" tpldata="user.feedback::switch::">
			{if ($user['feedback'] == 1)}
			<div>Choice one{$user['iname']}</div>
			{else if ($user['feedback'] == 2)}
			<div tpldata="user.iname::updatevalue::">Choice two{$user['iname']}</div>
			{else}
			<div>
				Choice three{$user['iname']}
			</div>
			{/if}
		</div>
	  </div>
    </div>
    <div class="clear"></div>
  <!-- mainbox -->
  <script>
	if(1==1){console.log("1==1."+(new Date())+" copyright_year:"+$copyright_year);}
  </script>
  </div>
  <!--#main-->
  </div>
  <div id="footer">
    <div class="f_box">
      <div class="f_logo">
        <a href="http://www.eophy.com/"> base code </a>
      </div>
      <div class="f_logo">
        <a href="javascript:;"> wenxin logo</a>
      </div>
      <div class="allright"> footer bottom </div>
      <div class="f_menu">
        <ul>
          <li><a href="contact.html">联系我们</a></li>
          <li><a href="legal.html">法律声明</a></li>
          <li class="last"><a href="http://www.miit.gov.cn/" target="_blank" >京ICP备1204600号 </a> &copy; <span tpldata="copyright_year::updatevalue::">{$copyright_year}</span> Eophy. 保留所有权利.</li>
        </ul>
      </div>
      <div class="allright_2">footer logo</div>
    </div>
  </div>
</div>
<div id="pagejsondata">
{
	"pagetitle": "-吉娃, GWA2 JTMPL-",
	"newslist": {
		"0": {"title":"虾青素是目前为止最具创新、最具抗氧化能力的抗氧化剂", "href":"#11"},
		"1": {"title":"所有产品都含有天然雨生红球藻（富含天然虾青素）", "href":"#10"},
		"2": {"title":"更高生物利用度（更好更快被吸收）、高活性成分、不刺激肠胃", "href":"#9"},
		"3": {"title":"真是极好的西红柿产品", "href":"#8"}
	},
	"copyright_year": 2017,
	"keywords": "Wadelau, GWA2, gwa2",
	"newslist_nextpage": "https://ufqi.com/#newlist_nextpage_value",
	"newscontentlist":{
		"0":{"title":"虾青素是目前为止最具创新、最具抗氧化能力的抗氧化剂1", "content":"111BoP S.L. 联合巴塞罗那大学健康医学实验室共同研发近百种天然健康营养品，我 们的研发人员有着二十多年营养与药剂开发经验，产品品牌在欧洲拥有极高的知 名度和美誉度。为了满足消费者“选择最佳天然营养品的健康需求”", "pages":3},
		"1":{"title":"虾青素是目前为止最具创新、最具抗氧化能力的抗氧化剂2", "content":"222BoP S.L. 联合巴塞罗那大学健康医学实验室共同研发近百种天然健康营养品，我 们的研发人员有着二十多年营养与药剂开发经验，产品品牌在欧洲拥有极高的知 名度和美誉度。为了满足消费者“选择最佳天然营养品的健康需求”", "pages":3},
		"2":{"title":"虾青素是目前为止最具创新、最具抗氧化能力的抗氧化剂3", "content":"333BoP S.L. 联合巴塞罗那大学健康医学实验室共同研发近百种天然健康营养品，我 们的研发人员有着二十多年营养与药剂开发经验，产品品牌在欧洲拥有极高的知 名度和美誉度。为了满足消费者“选择最佳天然营养品的健康需求”", "pages":2}
	},
	"user": {
		"feedback": 1,
		"iname": {"surname":"Wadelau", "familyname":"Lau"},
		"age": "33"
	},
	"atag": "Xenxin\"s Tag",
	"":""
}
</div>
</body>
<script type="text/javascript">
//- JSTPL
/* 
 * JavaScript-based Template Engine , born with GWA2
 * @Xenxin@ufqi.com, Wadelau@hotmail.com
 * @Since Nov 11, 2018
 */
 
"use strict";

(function(window){ //- anonymous func bgn

	//- server response in json
	var timeCostBgn = (new Date()).getTime();
	var pageJsonElement = document.getElementById('pagejsondata');
	var tplData = {};
	if(pageJsonElement){ 
		var tplDataStr = pageJsonElement.innerText; 
		tplData = JSON.parse(tplDataStr);
		console.log('tplData: '+tplData+' copyright_year: '+tplData['copyright_year']);
		//- parse as global variables
		for(var $k in tplData){
			//console.log("k:"+$k+" v:"+tplData[$k]);
			if($k != ''){
				var $v = tplData[$k];
				$k = '$'+$k;
				if(window){ window[$k] = $v; }else{ console.log('window undefined error.'); }
			}
		}
		//- hide raw data
		pageJsonElement.style.height = '0px';
		pageJsonElement.style.visibility = 'hidden';
	}
	else{ console.log('pageJsonElement has error.'); }
	
	//- parse all tag blocks
	console.log("aft parse copyright_year:"+$copyright_year);
	var renderElement = function(window, document, tplHTML){
		//var re = /\{([^\}]+)\}/gm, match, tplRaw, tplObject;
		var re = /\{([for|if|else|break|case|switch|\$|\/][^}]*)\}/gm, match, tplRaw, tplObject;
		tplObject = document.body || document; 
		if(!tplHTML){
			tplRaw = tplObject.innerHTML;
			tplRaw = tplRaw.substring(0, tplRaw.indexOf('<div id="pagejsondata"')); // why this?
		}
		else{
			tplRaw = tplHTML;
		}
		//console.log("tplRaw:"+tplRaw);
		var lastpos = 0; var tpl2code = "var tpl2js = [];\n";
		var staticStr, ipos, matchStr, exprStr;		
		while(match = re.exec(tplRaw)){
			ipos = match.index;
			staticStr = tplRaw.substring(lastpos, ipos);
			//console.log("bfr staticStr:"+staticStr);
			if(true){
				staticStr = staticStr.replace(/"/g, '\\"'); 
				staticStr = staticStr.replace(/[\n|\r]/g, '');
				tpl2code += "\ttpl2js.push(\""+staticStr+"\");\n";
				//console.log(match);
				matchStr = match[0];
				exprStr = match[1];
				//console.log("aft exprStr:"+exprStr);
				if(exprStr.indexOf('$') == 0){
					tpl2code += "\ttpl2js.push("+exprStr+");\n";
				}
				else{
					if(exprStr.match(/(^( )?(if|for|switch|case|break|{|}))(.*)?/g)){
						exprStr += '{';
					}
					else if(exprStr.indexOf('else') == 0){
						exprStr = '}' + exprStr + '{';
					}
					else if(exprStr.indexOf('/') == 0){
						exprStr = '}'; 
					}
					tpl2code += "\n" + exprStr + "\n";
				}
			}
			lastpos = ipos + matchStr.length;
		}
		//- last static part
		staticStr = tplRaw.substring(lastpos);
		staticStr = staticStr.replace(/"/g, '\\"'); 
		staticStr = staticStr.replace(/[\n|\r]/g, '');
		tpl2code += "\ttpl2js.push(\""+staticStr+"\");\n";
		tpl2code += "return tpl2js.join('');\n";
		console.log("tpl2code:"+tpl2code);
		//- merge data
		var tplParse = (function(){ return new Function(tpl2code).apply(window); }).apply();
		//console.log("tplParse:"+tplParse);
		tplObject.innerHTML = tplParse;
		
	};
	
	//- compile
	renderElement(window, document, null);
	
	//-
	console.log("tpl parse time \
		cost:"+((new Date()).getTime() - timeCostBgn));
	
})(window); //- anonymous func end

</script>
</html>
